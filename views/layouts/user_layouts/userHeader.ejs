<!doctype html>
<html lang="zxx">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>aranoz</title>
  <link rel="icon" href="/user/img/favicon.png">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/user/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="/mycss/mystyle.css"> -->
  <!-- animate CSS -->
  <link rel="stylesheet" href="/user/css/animate.css">
  <link rel="stylesheet" href="/user/css/mycss.css">
  <!-- owl carousel CSS -->
  <link rel="stylesheet" href="/user/css/owl.carousel.min.css">
  <!-- font awesome CSS -->
  <link rel="stylesheet" href="/user/css/all.css">
  <!-- flaticon CSS -->
  <link rel="stylesheet" href="/user/css/flaticon.css">
  <link rel="stylesheet" href="/user/css/themify-icons.css">
  <!-- font awesome CSS -->
  <link rel="stylesheet" href="/user/css/magnific-popup.css">
  <!-- swiper CSS -->
  <link rel="stylesheet" href="/user/css/slick.css">
  <!-- style CSS -->
  <link rel="stylesheet" href="/user/css/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"> -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> -->

  
  <style>

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown a {
    color: black;
}

.dropdown-content {
    display: none;
    position: absolute;
    min-width: 160px;
    z-index: 1000;
    right: 0;
    background-color: #f9f9f9; /* Add a background color to make the dropdown visible */
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); /* Add some shadow for better visibility */
}

.dropdown-content a {
    color: black;
    text-decoration: none;
    display: block;
    padding: 12px 16px; 
}

.dropdown-content a:hover {
    background-color: #f1f1f1; /* Add a hover effect to the dropdown items */
}

.dropdown:hover .dropdown-content {
    display: block !important;
}

.header {
    position: relative;
    z-index: 500;
}

  </style>
</head>

<body>
  <!--::header part start::-->
  <header class="main_menu home_menu">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <a class="navbar-brand" href="/"> <img src="/user/img/logo.png" alt="logo"> </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="menu_icon"><i class="fas fa-bars"></i></span>
                    </button>

                    <div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/shop/allproducts">Shop</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/shop/Sectional Sofa">Sectional Sofa</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/shop/Recliners">Recliners</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="/shop/Nordic Chairs">Nordic Sofa</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="/shop/Love Seats">Love Seats</a>
                            </li>
                        </ul>
                    </div>

                    <div class="hearer_icon d-flex">
                        <!-- <a id="search_1" href="javascript:void(0);"><i class="ti-search"></i></a>                      -->
                        <a href="/wishlist"><i class="ti-heart"></i></a>
                        <a href="/cart"><i class="fas fa-cart-plus"></i></a>
                        <% console.log('User:', locals.user); %>
                        
                        <% if (locals.user) { %>
                            <div class="dropdown">
                                <% if (locals.user.name !== undefined) { %>
                                    <a href="#"><%= locals.user.name %></a>
                                <% } 
                                else { %>
                                    <a href="#"><i class="fas fa-user"></i></a>
                                <% } %>
                                <div class="dropdown-content">
                                    <a href="/userprofile">Profile</a>
                                    <a href="/logout"  onclick="confirmLogout(event)">Logout</a>
                                </div>
                            </div>
                        <% } 
                        else { %>
                            <a href="/login"><i class="fas fa-user"></i></a>
                        <% } %>
                        <!-- <a href="/logout" onclick="confirmLogout(event)">logout</a> -->

                    </div>
                </nav>
            </div>

        </div>
    </div>
   

</header>

<script>
  
    function confirmLogout(event) {
        event.preventDefault(); // Prevents default navigation to /logout

        // SweetAlert2 confirmation dialog
        Swal.fire({
            title: 'Are you sure?',
            text: "You will be logged out!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6', // Customize confirm button color
            cancelButtonColor: '#d33',     // Customize cancel button color
            confirmButtonText: 'Yes, logout',
            cancelButtonText: 'Cancel'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/logout"; // Proceed with logout if confirmed
            }
        });
    }
</script>